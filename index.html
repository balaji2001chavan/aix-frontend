<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AIX Smart Studio</title>

<style>
body{
  margin:0;
  background:linear-gradient(135deg,#020617,#0f172a);
  font-family:system-ui;
  color:#e5e7eb;
}
.app{max-width:1100px;margin:auto;padding:14px}
.header{display:flex;justify-content:space-between;align-items:center}
.header h2{color:#38bdf8;margin:0}
.status{font-size:13px;color:#facc15}
.main{margin-top:10px}
.chat{
  background:#020617;
  border-radius:12px;
  padding:12px;
  min-height:300px;
  overflow-y:auto;
}
.msg{margin-bottom:10px;white-space:pre-wrap}
.user{color:#60a5fa}
.aix{color:#4ade80}
.controls{
  display:flex;
  gap:6px;
  margin-top:8px;
}
input{
  flex:1;
  padding:12px;
  border-radius:10px;
  border:none;
}
button{
  padding:12px 16px;
  border:none;
  border-radius:10px;
  background:#38bdf8;
  font-weight:bold;
}
.preview{
  margin-top:10px;
  padding:10px;
  border-radius:12px;
  background:#020617;
}
</style>
</head>

<body>
<div class="app">

  <div class="header">
    <h2>AIX ‚Äì Smart Intelligence</h2>
    <div id="status" class="status">üîÑ Checking‚Ä¶</div>
  </div>

  <div id="chat" class="chat">
    <div class="msg aix">
      ‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞ ‡§¨‡•â‡§∏ üëã  
      ‡§Æ‡•Ä AIX ‡§Ü‡§π‡•á. ‡§ï‡§æ‡§Ø ‡§ï‡§∞‡•Ç?
    </div>
  </div>

  <div class="controls">
    <input id="input" placeholder="‡§á‡§•‡•á ‡§≤‡§ø‡§π‡§æ‚Ä¶ üòä">
    <button onclick="send()">Send</button>
  </div>

  <div id="preview" class="preview" style="display:none"></div>

</div>

<script>
const BACKEND = "https://boss-aix-backend-nai6.onrender.com";

async function check(){
  try{
    await fetch(BACKEND+"/api/status");
    status.innerText="üü¢ Server Online";
  }catch{
    status.innerText="üî¥ Backend Offline";
  }
}
check();

function add(role,text){
  const d=document.createElement("div");
  d.className="msg "+role;
  d.innerText=text;
  chat.appendChild(d);
  chat.scrollTop=chat.scrollHeight;
}

async function send(){
  const t=input.value.trim();
  if(!t) return;
  add("user",t);
  input.value="";

  try{
    const r=await fetch(BACKEND+"/api/aix",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({message:t})
    });
    const d=await r.json();
    add("aix",d.reply);

    if(d.previewUrl){
      showPreview(d.previewUrl);
    }
  }catch{
    add("aix","‚ö†Ô∏è Server ‡§∂‡•Ä ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ù‡§æ‡§≤‡§æ ‡§®‡§æ‡§π‡•Ä.");
  }
}

function showPreview(url){
  preview.style.display="block";
  preview.innerHTML=`
    <b>üìÑ Output</b><br>
    <a href="${BACKEND}${url}" download>‚¨áÔ∏è Download</a>
    <br><br>
    <button onclick="share('${BACKEND}${url}')">üîó Share</button>
  `;
}

function share(link){
  if(navigator.share){
    navigator.share({
      title:"AIX Output",
      text:"AIX ‡§®‡•á ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡•á‡§≤‡•á‡§≤‡§Ç output",
      url:link
    });
  }else{
    navigator.clipboard.writeText(link);
    alert("Link copied. WhatsApp / Instagram / Facebook ‡§µ‡§∞ paste ‡§ï‡§∞‡§æ.");
  }
}
</script>
</body>
</html>
