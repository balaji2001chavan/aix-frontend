<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8" />
    <title>Boss AIX – तुमचा Smart AI मित्र</title>
    <style>
        body {
            background: #0d0d0d;
            color: #e6e6e6;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        #chat {
            width: 100%;
            height: 430px;
            overflow-y: auto;
            border: 1px solid #444;
            padding: 10px;
            background: #111;
            border-radius: 8px;
        }
        .user { color: #66ccff; margin: 6px 0; }
        .boss { color: #00ff88; margin: 6px 0; }
        input, button {
            padding: 12px;
            font-size: 18px;
            width: 100%;
            margin-top: 10px;
            border-radius: 6px;
        }
        button { background: #00ff88; border: 0; cursor: pointer; }
    </style>
</head>

<body>

<h2>Boss AIX – तुमचा Smart AI मित्र</h2>

<div id="chat"></div>

<input id="msg" placeholder="इथे बोला…" />
<button onclick="send()">Send</button>

<script>
const backendURL = "https://boss-aix-backend.onrender.com";  // ⭐ BACKEND URL FIX

function add(text, who) {
    let box = document.getElementById("chat");
    let div = document.createElement("div");
    div.className = who;
    div.innerText = text;
    box.appendChild(div);
    box.scrollTop = box.scrollHeight;
}

async function send() {
    const text = document.getElementById("msg").value.trim();
    if (!text) return;

    add("You: " + text, "user");
    document.getElementById("msg").value = "";

    try {
        const res = await fetch(backendURL + "/api/aix", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            mode: "cors",       // ⭐ Render साठी आवश्यक
            body: JSON.stringify({
                message: text,
                owner: false
            })
        });

        const data = await res.json();

        // ⭐ ERROR PROTECTION
        if (!data || !data.reply) {
            add("Boss AIX: ❌ रिप्लाय मिळाला नाही", "boss");
            return;
        }

        add("Boss AIX: " + data.reply, "boss");

    } catch (err) {
        add("Boss AIX: ⚠️ Backend reachable नाही किंवा CORS Error", "boss");
    }
}
</script>

</body>
</html>
